## Elasticsearch and MongoDB notes
This is me experimenting with Elasticsearch and MongoDB in Docker containers running on my laptop. 
- [x] set up skeleton docker containers running ES, Mongo, and a Flask app
- [x] write ES and Mongo queries to insert random data in each datastore, respectively
- [ ] Compare latencies for search queries

Elasticsearch and MongoDB are both datastores. Elasticsearch is marketed as a *search engine* while MongoDB as a document-oriented NoSQL *database*.

MongoDB is an AP database. MongoDB is supposed to make horizontal scaling easy by embracing *eventual consistency*. Replication increases availability by using multiple servers that store the same data and all serve requests. It has a *primary*, which synchronizes with all its *secondaries*. *Sharding* increases capacity by partitioning a dataset across several servers. Sharding and replication can be used in tandem. See this [link](https://www.mongodb.com/basics/replication#:~:text=are%20properly%20replicated.-,What%20is%20the%20difference%20between%20replication%20and%20sharding%3F,servers%20using%20a%20shard%20key.) on sharding versus replication. It is unclear whether MongoDB supports distributed transactions. Many traditionally SQL features like transactions and indexes were added later on in MongoDB's existence, my guess is because of demand from people who are used to using SQL databases. MongoDB has its [own query language](https://www.mongodb.com/docs/manual/reference/sql-comparison/), though again due to demand, recent versions might also support queries written in SQL?

Elasticsearch claims it supports *real-time* search, roughly meaning that search queries are executed with very low latency, so that results are available immediately. Elasticsearch also seems to be described as a NoSQL datastore. Elasticsearch's browser-based frontend is called Kibana. There is also Logstash (it's unclear to me what's the difference between Elasticsearch and Logstash, and whether the difference really matters), and these three form the ELK stack (see description on [AWS website](https://aws.amazon.com/opensearch-service/the-elk-stack/)). An Elasticsearch *index* is [supposedly synonymous](https://www.elastic.co/blog/what-is-an-elasticsearch-index) with a single database in a relational database. Just like MongoDB, Elasticsearch is capable of storing arbitrary *documents* (just JSON-like things), and the process of doing this is called *indexing* the document. Elasticsearch has a REST interface (in addition to its Kibana interface). Elasticsearch also supports [sharding and replication](https://www.elastic.co/guide/en/elasticsearch/reference/current/scalability.html). By default, Elasticsearch [creates an index](https://www.elastic.co/guide/en/elasticsearch/reference/current/documents-indices.html) (in this case, *database index*) on every field.

A *database index* is any kind of data structure that makes searching for certain fields in a table fast. It's like a hash table, which makes searching for stuff take `O(1)` time. Just like a hash table may need to be resized and rebalanced as entries are removed or added, so does an index. An index can be implemented with various data structures, like a B+ tree (relational databases), or an LSM tree (key-value stores like RocksDB), or a K-D-B-tree (apparently what Elasticsearch uses for each field).

